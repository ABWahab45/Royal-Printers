{"ast":null,"code":"import React,{createContext,useContext,useState,useEffect}from\"react\";import{jsx as _jsx}from\"react/jsx-runtime\";const AuthContext=/*#__PURE__*/createContext();export function useAuth(){return useContext(AuthContext);}export function AuthProvider(_ref){let{children}=_ref;const[token,setToken]=useState(()=>localStorage.getItem(\"token\"));const[loading,setLoading]=useState(false);useEffect(()=>{if(token){localStorage.setItem(\"token\",token);}else{localStorage.removeItem(\"token\");}},[token]);const login=newToken=>{setToken(newToken);};const logout=()=>{setToken(null);};const value={token,login,logout,loading,setLoading,isAuthenticated:!!token};return/*#__PURE__*/_jsx(AuthContext.Provider,{value:value,children:children});}","map":{"version":3,"names":["React","createContext","useContext","useState","useEffect","jsx","_jsx","AuthContext","useAuth","AuthProvider","_ref","children","token","setToken","localStorage","getItem","loading","setLoading","setItem","removeItem","login","newToken","logout","value","isAuthenticated","Provider"],"sources":["D:/wahab/class/sem 6/web/Wahab BCS223121/frontend/src/AuthContext.js"],"sourcesContent":["import React, { createContext, useContext, useState, useEffect } from \"react\";\r\n\r\nconst AuthContext = createContext();\r\n\r\nexport function useAuth() {\r\n  return useContext(AuthContext);\r\n}\r\n\r\nexport function AuthProvider({ children }) {\r\n  const [token, setToken] = useState(() => localStorage.getItem(\"token\"));\r\n  const [loading, setLoading] = useState(false);\r\n\r\n  useEffect(() => {\r\n    if (token) {\r\n      localStorage.setItem(\"token\", token);\r\n    } else {\r\n      localStorage.removeItem(\"token\");\r\n    }\r\n  }, [token]);\r\n\r\n  const login = (newToken) => {\r\n    setToken(newToken);\r\n  };\r\n\r\n  const logout = () => {\r\n    setToken(null);\r\n  };\r\n\r\n  const value = { token, login, logout, loading, setLoading, isAuthenticated: !!token };\r\n  return <AuthContext.Provider value={value}>{children}</AuthContext.Provider>;\r\n} "],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,aAAa,CAAEC,UAAU,CAAEC,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAAC,OAAAC,GAAA,IAAAC,IAAA,yBAE9E,KAAM,CAAAC,WAAW,cAAGN,aAAa,CAAC,CAAC,CAEnC,MAAO,SAAS,CAAAO,OAAOA,CAAA,CAAG,CACxB,MAAO,CAAAN,UAAU,CAACK,WAAW,CAAC,CAChC,CAEA,MAAO,SAAS,CAAAE,YAAYA,CAAAC,IAAA,CAAe,IAAd,CAAEC,QAAS,CAAC,CAAAD,IAAA,CACvC,KAAM,CAACE,KAAK,CAAEC,QAAQ,CAAC,CAAGV,QAAQ,CAAC,IAAMW,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC,CAAC,CACvE,KAAM,CAACC,OAAO,CAAEC,UAAU,CAAC,CAAGd,QAAQ,CAAC,KAAK,CAAC,CAE7CC,SAAS,CAAC,IAAM,CACd,GAAIQ,KAAK,CAAE,CACTE,YAAY,CAACI,OAAO,CAAC,OAAO,CAAEN,KAAK,CAAC,CACtC,CAAC,IAAM,CACLE,YAAY,CAACK,UAAU,CAAC,OAAO,CAAC,CAClC,CACF,CAAC,CAAE,CAACP,KAAK,CAAC,CAAC,CAEX,KAAM,CAAAQ,KAAK,CAAIC,QAAQ,EAAK,CAC1BR,QAAQ,CAACQ,QAAQ,CAAC,CACpB,CAAC,CAED,KAAM,CAAAC,MAAM,CAAGA,CAAA,GAAM,CACnBT,QAAQ,CAAC,IAAI,CAAC,CAChB,CAAC,CAED,KAAM,CAAAU,KAAK,CAAG,CAAEX,KAAK,CAAEQ,KAAK,CAAEE,MAAM,CAAEN,OAAO,CAAEC,UAAU,CAAEO,eAAe,CAAE,CAAC,CAACZ,KAAM,CAAC,CACrF,mBAAON,IAAA,CAACC,WAAW,CAACkB,QAAQ,EAACF,KAAK,CAAEA,KAAM,CAAAZ,QAAA,CAAEA,QAAQ,CAAuB,CAAC,CAC9E","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}