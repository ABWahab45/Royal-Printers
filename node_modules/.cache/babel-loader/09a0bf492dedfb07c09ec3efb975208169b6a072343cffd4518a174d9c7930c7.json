{"ast":null,"code":"import React,{useState}from\"react\";import axios from\"axios\";// Use environment variable or fallback to localhost\nimport{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const API_URL=process.env.REACT_APP_API_URL||\"http://localhost:5000\";const Contact=()=>{const[formData,setFormData]=useState({name:\"\",email:\"\",message:\"\"});const[loading,setLoading]=useState(false);const[error,setError]=useState(\"\");const[success,setSuccess]=useState(\"\");const[formErrors,setFormErrors]=useState({});const validateForm=()=>{const errors={};if(!formData.name.trim())errors.name=\"Name is required\";if(!formData.email.trim()){errors.email=\"Email is required\";}else if(!/^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/.test(formData.email)){errors.email=\"Please enter a valid email address\";}if(!formData.message.trim())errors.message=\"Message is required\";setFormErrors(errors);return Object.keys(errors).length===0;};const handleChange=e=>{const{name,value}=e.target;setFormData({...formData,[name]:value});// Clear error for this field when user starts typing\nif(formErrors[name]){setFormErrors(prev=>({...prev,[name]:undefined}));}};const handleSubmit=async e=>{e.preventDefault();// Validate form before submission\nif(!validateForm())return;setLoading(true);setError(\"\");setSuccess(\"\");try{await axios.post(`${API_URL}/api/contact`,formData);setSuccess(\"Message sent successfully! We'll get back to you soon.\");setFormData({name:\"\",email:\"\",message:\"\"});}catch(err){var _err$response,_err$response$data;const errorMessage=((_err$response=err.response)===null||_err$response===void 0?void 0:(_err$response$data=_err$response.data)===null||_err$response$data===void 0?void 0:_err$response$data.message)||\"Failed to send message. Please try again.\";setError(errorMessage);console.error(err);}finally{setLoading(false);}};return/*#__PURE__*/_jsxs(\"div\",{className:\"contact-container py-5\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-center mb-4\",children:\"Contact Us\"}),/*#__PURE__*/_jsx(\"div\",{className:\"row\",children:/*#__PURE__*/_jsx(\"div\",{className:\"col-lg-7 mx-auto\",children:/*#__PURE__*/_jsx(\"div\",{className:\"card shadow-sm\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"card-body p-4\",children:[success&&/*#__PURE__*/_jsx(\"div\",{className:\"alert alert-success\",role:\"alert\",children:success}),error&&/*#__PURE__*/_jsx(\"div\",{className:\"alert alert-danger\",role:\"alert\",children:error}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,noValidate:true,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-group mb-3\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"name\",className:\"form-label\",children:\"Name\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:`form-control ${formErrors.name?'is-invalid':''}`,id:\"name\",name:\"name\",value:formData.name,onChange:handleChange,placeholder:\"Your name\"}),formErrors.name&&/*#__PURE__*/_jsx(\"div\",{className:\"invalid-feedback\",children:formErrors.name})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group mb-3\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"email\",className:\"form-label\",children:\"Email\"}),/*#__PURE__*/_jsx(\"input\",{type:\"email\",className:`form-control ${formErrors.email?'is-invalid':''}`,id:\"email\",name:\"email\",value:formData.email,onChange:handleChange,placeholder:\"Your email address\"}),formErrors.email&&/*#__PURE__*/_jsx(\"div\",{className:\"invalid-feedback\",children:formErrors.email})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group mb-3\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"message\",className:\"form-label\",children:\"Message\"}),/*#__PURE__*/_jsx(\"textarea\",{className:`form-control ${formErrors.message?'is-invalid':''}`,id:\"message\",name:\"message\",value:formData.message,onChange:handleChange,rows:\"5\",placeholder:\"Your message\"}),formErrors.message&&/*#__PURE__*/_jsx(\"div\",{className:\"invalid-feedback\",children:formErrors.message})]}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"btn btn-primary w-100\",disabled:loading,children:loading?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"span\",{className:\"spinner-border spinner-border-sm me-2\",role:\"status\",\"aria-hidden\":\"true\"}),\"Sending...\"]}):\"Send Message\"})]})]})})})}),/*#__PURE__*/_jsxs(\"div\",{className:\"mt-4 text-center\",children:[/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Name:\"}),\" Abdul Wahab\"]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Phone:\"}),\" BCS-223121 \"]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Address:\"}),\" CUST (Islamabad Expressway, Kahuta\\u060C Road Zone-V Sihala, Islamabad, Pakistan) \"]})]})]});};export default Contact;","map":{"version":3,"names":["React","useState","axios","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","API_URL","process","env","REACT_APP_API_URL","Contact","formData","setFormData","name","email","message","loading","setLoading","error","setError","success","setSuccess","formErrors","setFormErrors","validateForm","errors","trim","test","Object","keys","length","handleChange","e","value","target","prev","undefined","handleSubmit","preventDefault","post","err","_err$response","_err$response$data","errorMessage","response","data","console","className","children","role","onSubmit","noValidate","htmlFor","type","id","onChange","placeholder","rows","disabled"],"sources":["D:/wahab/class/sem 6/web/Wahab BCS223121/frontend/src/pages/Contact.js"],"sourcesContent":["import React, { useState } from \"react\";\r\nimport axios from \"axios\";\r\n\r\n// Use environment variable or fallback to localhost\r\nconst API_URL = process.env.REACT_APP_API_URL || \"http://localhost:5000\";\r\n\r\nconst Contact = () => {\r\n  const [formData, setFormData] = useState({\r\n    name: \"\",\r\n    email: \"\",\r\n    message: \"\",\r\n  });\r\n  const [loading, setLoading] = useState(false);\r\n  const [error, setError] = useState(\"\");\r\n  const [success, setSuccess] = useState(\"\");\r\n  const [formErrors, setFormErrors] = useState({});\r\n\r\n  const validateForm = () => {\r\n    const errors = {};\r\n    if (!formData.name.trim()) errors.name = \"Name is required\";\r\n    if (!formData.email.trim()) {\r\n      errors.email = \"Email is required\";\r\n    } else if (!/^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/.test(formData.email)) {\r\n      errors.email = \"Please enter a valid email address\";\r\n    }\r\n    if (!formData.message.trim()) errors.message = \"Message is required\";\r\n    \r\n    setFormErrors(errors);\r\n    return Object.keys(errors).length === 0;\r\n  };\r\n\r\n  const handleChange = (e) => {\r\n    const { name, value } = e.target;\r\n    setFormData({ ...formData, [name]: value });\r\n    \r\n    // Clear error for this field when user starts typing\r\n    if (formErrors[name]) {\r\n      setFormErrors(prev => ({ ...prev, [name]: undefined }));\r\n    }\r\n  };\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    \r\n    // Validate form before submission\r\n    if (!validateForm()) return;\r\n    \r\n    setLoading(true);\r\n    setError(\"\");\r\n    setSuccess(\"\");\r\n\r\n    try {\r\n      await axios.post(`${API_URL}/api/contact`, formData);\r\n      setSuccess(\"Message sent successfully! We'll get back to you soon.\");\r\n      setFormData({ name: \"\", email: \"\", message: \"\" });\r\n    } catch (err) {\r\n      const errorMessage = err.response?.data?.message || \"Failed to send message. Please try again.\";\r\n      setError(errorMessage);\r\n      console.error(err);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n  return (\r\n    <div className=\"contact-container py-5\">\r\n      <h1 className=\"text-center mb-4\">Contact Us</h1>\r\n      <div className=\"row\">\r\n        <div className=\"col-lg-7 mx-auto\">\r\n          <div className=\"card shadow-sm\">\r\n            <div className=\"card-body p-4\">\r\n              {success && (\r\n                <div className=\"alert alert-success\" role=\"alert\">\r\n                  {success}\r\n                </div>\r\n              )}\r\n              {error && (\r\n                <div className=\"alert alert-danger\" role=\"alert\">\r\n                  {error}\r\n                </div>\r\n              )}\r\n              <form onSubmit={handleSubmit} noValidate>\r\n                <div className=\"form-group mb-3\">\r\n                  <label htmlFor=\"name\" className=\"form-label\">Name</label>\r\n                  <input\r\n                    type=\"text\"\r\n                    className={`form-control ${formErrors.name ? 'is-invalid' : ''}`}\r\n                    id=\"name\"\r\n                    name=\"name\"\r\n                    value={formData.name}\r\n                    onChange={handleChange}\r\n                    placeholder=\"Your name\"\r\n                  />\r\n                  {formErrors.name && <div className=\"invalid-feedback\">{formErrors.name}</div>}\r\n                </div>\r\n                <div className=\"form-group mb-3\">\r\n                  <label htmlFor=\"email\" className=\"form-label\">Email</label>\r\n                  <input\r\n                    type=\"email\"\r\n                    className={`form-control ${formErrors.email ? 'is-invalid' : ''}`}\r\n                    id=\"email\"\r\n                    name=\"email\"\r\n                    value={formData.email}\r\n                    onChange={handleChange}\r\n                    placeholder=\"Your email address\"\r\n                  />\r\n                  {formErrors.email && <div className=\"invalid-feedback\">{formErrors.email}</div>}\r\n                </div>\r\n                <div className=\"form-group mb-3\">\r\n                  <label htmlFor=\"message\" className=\"form-label\">Message</label>\r\n                  <textarea\r\n                    className={`form-control ${formErrors.message ? 'is-invalid' : ''}`}\r\n                    id=\"message\"\r\n                    name=\"message\"\r\n                    value={formData.message}\r\n                    onChange={handleChange}\r\n                    rows=\"5\"\r\n                    placeholder=\"Your message\"\r\n                  ></textarea>\r\n                  {formErrors.message && <div className=\"invalid-feedback\">{formErrors.message}</div>}\r\n                </div>\r\n                <button \r\n                  type=\"submit\" \r\n                  className=\"btn btn-primary w-100\" \r\n                  disabled={loading}\r\n                >\r\n                  {loading ? (\r\n                    <>\r\n                      <span className=\"spinner-border spinner-border-sm me-2\" role=\"status\" aria-hidden=\"true\"></span>\r\n                      Sending...\r\n                    </>\r\n                  ) : \"Send Message\"}\r\n                </button>\r\n              </form>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div className=\"mt-4 text-center\">\r\n        <p><strong>Name:</strong> Abdul Wahab</p>\r\n        <p><strong>Phone:</strong> BCS-223121 </p>\r\n        <p><strong>Address:</strong> CUST (Islamabad Expressway, KahutaØŒ Road Zone-V Sihala, Islamabad, Pakistan) </p>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Contact;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}